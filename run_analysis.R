setwd("./R/UCI HAR Dataset")
train_x<-read.table("./train/X_train.txt")
train_y<-read.table("./train/y_train.txt")
train_subject<-read.table("./train/subject_train.txt")
test_x<-read.table("./test/X_test.txt")
test_y<-read.table("./test/y_test.txt")
test_subject<-read.table("./test/subject_test.txt")
dim(train_x)
dim(train_y)
names(train_y)<-"activity"
dim(train_subject)
names(train_subject)<-"subject"
dim(test_x)
dim(test_y)
names(test_y)<-"activity"
dim(test_subject)
names(test_subject)<-"subject"
train<-cbind(train_x,train_y,train_subject)
test<-cbind(test_x,test_y,test_subject)
data<-rbind(test,train)
dim(data)
features<-read.table("features.txt")
colmean<-grep("mean\\(\\)",features$V2)
colstd<-grep("std\\(\\)",features$V2)
data2<-data[,c(colmean,colstd,562,563)]
data2$activity<-factor(data2$activity,labels=c("WALKING","WALKING_UPSTAIRS","WALKING_DOWNSTAIRS","SITTING","STANDING","LAYING"))
dim(data2)
class(features$V2[c(colmean,colstd)])
colnames(data2)[1:66]<-as.character(features$V2[c(colmean,colstd)])
names(data2)<-gsub("\\(\\)","",names(data2))
library(dplyr)
library(reshape2)
data2Melt<-melt(data2,id=c("subject","activity"),measure.vars=names(data2)[1:66])
group<-group_by(data2Melt,subject,activity,variable)
data2group<-group_by(data2Melt,subject,activity,variable)
data3<-summarise(data2group,mean(value))
colnames(data3)[3:4]<-c("feature","meanvalue")
write.table(data3,"tidydata.txt",row.name=FALSE)